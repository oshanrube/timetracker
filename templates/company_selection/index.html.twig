{% extends 'visitor.base.html.twig' %}
{% block title %}Select Company{% endblock %}
{% block body %}
    <div class="container my-auto">
        <div class="row">
            <div class="col-lg-4 col-md-8 col-12 mx-auto">
                <div class="card z-index-0 fadeIn3 fadeInBottom">
                    <turbo-frame id="sign-in-form">
                    <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                        <div class="bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1">
                            <h4 class="text-white font-weight-bolder text-center mt-2 mb-0">{{ 'Select Company'|trans }}</h4>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="list-group" id="company-list">
                            {% for LoginHasCompany in LoginHasCompanies %}
                                <a data-turbo-frame="_top" class="list-group-item" href="{{ path('app_company_select', {companyId: LoginHasCompany.company.id}) }}">
                                    {{ LoginHasCompany.Company }}
                                </a>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="card-body">
                        {% for flash_error in app.flashes('verify_email_error') %}
                            <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
                        {% endfor %}
                        <hr class="dark horizontal my-0"/>
                        <h3>{{ 'Create new company'|trans }}</h3>
                        {% if error %}
                            <div class="alert alert-primary alert-dismissible text-white" role="alert">
                                <span class="text-sm">{{ error.messageKey|trans(error.messageData, 'security') }}</span>
                                <button type="button" class="btn-close text-lg py-3 opacity-10"
                                        data-bs-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">Ã—</span>
                                </button>
                            </div>
                        {% endif %}
                        {{ form_start(companyCreationForm) }}
                        <div class="input-group input-group-outline my-3">
                            <label class="form-label">{{ 'companyName'|trans }}</label>
                            {{ form_widget(companyCreationForm.name) }}
                            {{ form_errors(companyCreationForm.name) }}
                        </div>
                        <div class="input-group input-group-outline mb-3">
                            <label class="form-label">{{ 'subdomain'|trans }}</label>
                            {{ form_widget(companyCreationForm.subdomain) }}
                            {{ form_errors(companyCreationForm.subdomain) }}
                        </div>
                        <div class="input-group input-group-outline mb-3">
                            <label class="form-label">{{ 'description'|trans }}</label>
                            {{ form_widget(companyCreationForm.description) }}
                            {{ form_errors(companyCreationForm.description) }}
                        </div>
                        <div class="text-center">
                            <button type="submit"
                                    class="btn bg-gradient-primary w-100 my-4 mb-2">{{ 'Create new company'|trans }}</button>
                        </div>
                        {{ form_end(companyCreationForm) }}
                    </div>
                    </turbo-frame>
                </div>
            </div>
        </div>
    </div>
{% endblock %}